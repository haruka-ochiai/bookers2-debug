{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/*!\n * Raty - A Star Rating Plugin\n *\n * author: Washington Botelho\n * github: wbotelhos/raty\n * version: 4.2.0\n */\nvar Raty = /*#__PURE__*/function () {\n  /**\n   *\n   * @param {object} element\n   * @param {object} options\n   *\n   */\n  function Raty(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Raty);\n\n    this.element = element;\n    this.opt = _objectSpread(_objectSpread(_objectSpread({}, this.defaultOptions()), options), this._parseOptions(element.dataset));\n  }\n\n  _createClass(Raty, [{\n    key: \"defaultOptions\",\n    value: function defaultOptions() {\n      return {\n        cancelButton: false,\n        cancelClass: 'raty-cancel',\n        cancelHint: 'Cancel this rating!',\n        cancelOff: 'cancel-off.png',\n        cancelOn: 'cancel-on.png',\n        cancelPlace: 'left',\n        click: undefined,\n        half: false,\n        halfShow: true,\n        hints: ['bad', 'poor', 'regular', 'good', 'gorgeous'],\n        iconRange: undefined,\n        iconRangeSame: false,\n        mouseout: undefined,\n        mouseover: undefined,\n        noRatedMsg: 'Not rated yet!',\n        number: 5,\n        numberMax: 20,\n        path: undefined,\n        precision: false,\n        readOnly: false,\n        round: {\n          down: 0.25,\n          full: 0.6,\n          up: 0.76\n        },\n        score: undefined,\n        scoreName: 'score',\n        single: false,\n        space: true,\n        starHalf: 'star-half.png',\n        starOff: 'star-off.png',\n        starOn: 'star-on.png',\n        starType: 'img',\n        target: undefined,\n        targetFormat: '{score}',\n        targetKeep: false,\n        targetScore: undefined,\n        targetText: '',\n        targetType: 'hint'\n      };\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel(click) {\n      if (!this._isReadOnly()) {\n        this[click ? 'click' : 'score'](null);\n        this.scoreField.removeAttribute('value');\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"click\",\n    value: function click(score) {\n      if (!this._isReadOnly()) {\n        score = this._adjustedScore(score);\n\n        this._apply(score);\n\n        if (this.opt.click) {\n          this.opt.click.call(this, score, this.element);\n        }\n\n        this._target(score);\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"move\",\n    value: function move(score) {\n      var integer = parseInt(score, 10);\n\n      var decimal = this._getDecimal(score, 1);\n\n      if (integer >= this.opt.number) {\n        integer = this.opt.number - 1;\n        decimal = 10;\n      }\n\n      var width = this._getWidth();\n\n      var steps = width / 10;\n      var star = this.stars[integer];\n      var percent = star.offsetLeft + steps * decimal;\n      var evt = new Event('mousemove');\n      evt.pageX = percent;\n      this.isMove = true;\n      star.dispatchEvent(evt);\n      this.isMove = false;\n    } // TODO: model spec\n\n  }, {\n    key: \"readOnly\",\n    value: function readOnly(readonly) {\n      if (this._isReadOnly() !== readonly) {\n        if (readonly) {\n          this._lock();\n        } else {\n          this._binds();\n\n          this._unlock();\n        }\n\n        this.element.dataset.readOnly = readonly;\n      }\n    }\n  }, {\n    key: \"score\",\n    value: function score() {\n      return arguments.length ? this.setScore(arguments[0]) : this.getScore();\n    }\n  }, {\n    key: \"setScore\",\n    value: function setScore(score) {\n      if (!this._isReadOnly()) {\n        score = this._adjustedScore(score);\n\n        this._apply(score);\n\n        this._target(score);\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"getScore\",\n    value: function getScore() {\n      var score = [];\n      var value;\n      value = this.scoreField.value;\n      score.push(value ? +value : undefined);\n      return score.length > 1 ? score : score[0];\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this._executeCallbacks();\n\n      this._adjustNumber();\n\n      this._adjustHints();\n\n      this.opt.score = this._adjustedScore(this.opt.score);\n\n      if (this.opt.starType !== 'img') {\n        this._adjustStarName();\n      }\n\n      this._setPath();\n\n      this._createStars();\n\n      if (this.opt.cancelButton) {\n        this._createCancel();\n      }\n\n      if (this.opt.precision) {\n        this._adjustPrecision();\n      }\n\n      this._createScore();\n\n      this._apply(this.opt.score);\n\n      this._setTitle(this.opt.score);\n\n      this._target(this.opt.score);\n\n      if (this.opt.readOnly) {\n        this._lock();\n      } else {\n        this.element.style.cursor = 'pointer';\n\n        this._binds();\n      }\n\n      return this;\n    } // private\n    // TODO: model spec\n\n  }, {\n    key: \"_adjustedScore\",\n    value: function _adjustedScore(score) {\n      if (score || score === 0) {\n        return this._between(score, 0, this.opt.number);\n      }\n    }\n  }, {\n    key: \"_adjustHints\",\n    value: function _adjustHints() {\n      // TODO: is it possible `hints` does not exist?\n      if (!this.opt.hints) {\n        this.opt.hints = [];\n      }\n\n      if (!this.opt.halfShow && !this.opt.half) {\n        return;\n      }\n\n      var steps = this.opt.precision ? 10 : 2;\n\n      for (var i = 0; i < this.opt.number; i++) {\n        var group = this.opt.hints[i];\n\n        if (Object.prototype.toString.call(group) !== '[object Array]') {\n          group = [group];\n        }\n\n        this.opt.hints[i] = [];\n\n        for (var j = 0; j < steps; j++) {\n          var hint = group[j];\n          var last = group[group.length - 1];\n\n          if (last === undefined) {\n            last = null;\n          }\n\n          this.opt.hints[i][j] = hint === undefined ? last : hint;\n        }\n      }\n    }\n  }, {\n    key: \"_adjustNumber\",\n    value: function _adjustNumber() {\n      this.opt.number = this._between(this.opt.number, 1, this.opt.numberMax);\n    }\n  }, {\n    key: \"_adjustPrecision\",\n    value: function _adjustPrecision() {\n      this.opt.half = true;\n    }\n  }, {\n    key: \"_adjustStarName\",\n    value: function _adjustStarName() {\n      var replaces = ['cancelOff', 'cancelOn', 'starHalf', 'starOff', 'starOn'];\n      this.opt.path = '';\n\n      for (var i = 0; i < replaces.length; i++) {\n        this.opt[replaces[i]] = this.opt[replaces[i]].replace('.', '-');\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"_apply\",\n    value: function _apply(score) {\n      this._fill(score);\n\n      if (score) {\n        if (score > 0) {\n          this.scoreField.value = score;\n        }\n\n        this._roundStars(score);\n      }\n    }\n  }, {\n    key: \"_attributesForIndex\",\n    value: function _attributesForIndex(i) {\n      var name = this._nameForIndex(i);\n\n      var attributes = {\n        alt: i,\n        src: this.opt.path + this.opt[name]\n      };\n\n      if (this.opt.starType !== 'img') {\n        attributes = {\n          'data-alt': i,\n          'class': this.opt[name]\n        };\n      }\n\n      attributes.title = this._getHint(i);\n      return attributes;\n    }\n  }, {\n    key: \"_between\",\n    value: function _between(value, min, max) {\n      return Math.min(Math.max(parseFloat(value), min), max);\n    } // TODO: model spec\n\n  }, {\n    key: \"_binds\",\n    value: function _binds() {\n      if (this.cancelButton) {\n        this._bindOverCancel();\n\n        this._bindClickCancel();\n\n        this._bindOutCancel();\n      }\n\n      this._bindOver();\n\n      this._bindClick();\n\n      this._bindOut();\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindClick\",\n    value: function _bindClick() {\n      var _this = this;\n\n      this.stars.forEach(function (value) {\n        value.addEventListener('click', function (evt) {\n          if (_this._isReadOnly()) {\n            return;\n          }\n\n          var execute;\n          var score = _this.opt.half || _this.opt.precision ? _this.element.dataset.score : value.alt || value.dataset.alt;\n\n          if (_this.opt.half && !_this.opt.precision) {\n            score = _this._roundHalfScore(score);\n          }\n\n          if (_this.opt.click) {\n            execute = _this.opt.click.call(_this, +score, _this.element, evt);\n          }\n\n          if (execute || execute === undefined) {\n            _this._apply(+score);\n          }\n        });\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindClickCancel\",\n    value: function _bindClickCancel() {\n      var _this2 = this;\n\n      this.cancelButton.addEventListener('click', function (evt) {\n        _this2.scoreField.removeAttribute('value');\n\n        if (_this2.opt.click) {\n          _this2.opt.click.call(_this2, null, _this2.element, evt);\n        }\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindOut\",\n    value: function _bindOut() {\n      var _this3 = this;\n\n      this.element.addEventListener('mouseleave', function (evt) {\n        var score = +_this3.scoreField.value || undefined;\n\n        _this3._apply(score);\n\n        _this3._target(score, evt);\n\n        _this3._resetTitle();\n\n        if (_this3.opt.mouseout) {\n          _this3.opt.mouseout.call(_this3, score, _this3.element, evt);\n        }\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindOutCancel\",\n    value: function _bindOutCancel() {\n      var _this4 = this;\n\n      this.cancelButton.addEventListener('mouseleave', function (evt) {\n        var icon = _this4.opt.cancelOff;\n\n        if (_this4.opt.starType !== 'img') {\n          icon = \"\".concat(_this4.opt.cancelClass, \" \").concat(icon);\n        }\n\n        _this4._setIcon(_this4.cancelButton, icon);\n\n        if (_this4.opt.mouseout) {\n          var score = +_this4.scoreField.value || undefined;\n\n          _this4.opt.mouseout.call(_this4, score, _this4.element, evt);\n        }\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindOver\",\n    value: function _bindOver() {\n      var _this5 = this;\n\n      var action = this.opt.half ? 'mousemove' : 'mouseover';\n      this.stars.forEach(function (value) {\n        value.addEventListener(action, function (evt) {\n          var score = _this5._getScoreByPosition(evt, value);\n\n          _this5._fill(score);\n\n          if (_this5.opt.half) {\n            _this5._roundStars(score, evt);\n\n            _this5._setTitle(score, evt);\n\n            _this5.element.dataset.score = score;\n          }\n\n          _this5._target(score, evt);\n\n          if (_this5.opt.mouseover) {\n            _this5.opt.mouseover.call(_this5, score, _this5.element, evt);\n          }\n        });\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_bindOverCancel\",\n    value: function _bindOverCancel() {\n      var _this6 = this;\n\n      this.cancelButton.addEventListener('mouseover', function (evt) {\n        if (_this6._isReadOnly()) {\n          return;\n        }\n\n        var starOff = _this6.opt.path + _this6.opt.starOff;\n        var icon = _this6.opt.cancelOn;\n\n        if (_this6.opt.starType === 'img') {\n          _this6.stars.forEach(function (value) {\n            value.src = starOff;\n          });\n        } else {\n          icon = _this6.opt.cancelClass + ' ' + icon;\n\n          _this6.stars.forEach(function (value) {\n            value.className = starOff;\n          });\n        }\n\n        _this6._setIcon(_this6.cancelButton, icon);\n\n        _this6._target(null, evt);\n\n        if (_this6.opt.mouseover) {\n          _this6.opt.mouseover.call(_this6, null, _this6.element, evt);\n        }\n      });\n    } // TODO: model spec\n\n  }, {\n    key: \"_buildScoreField\",\n    value: function _buildScoreField() {\n      var input = document.createElement('input');\n      input.name = this.opt.scoreName;\n      input.type = 'hidden';\n      this.element.appendChild(input);\n      return input;\n    } // TODO: model spec\n\n  }, {\n    key: \"_createCancel\",\n    value: function _createCancel() {\n      var button = document.createElement(this.opt.starType);\n      var icon = this.opt.path + this.opt.cancelOff;\n      button.setAttribute('class', this.opt.cancelClass);\n      button.setAttribute('title', this.opt.cancelHint);\n\n      if (this.opt.starType === 'img') {\n        button.setAttribute('alt', 'x');\n        button.setAttribute('src', icon);\n      } else {\n        button.classList.add(icon); // TODO: use the dataset\n\n        button.setAttribute('data-alt', 'x');\n      }\n\n      if (this.opt.cancelPlace === 'left') {\n        this.element.prepend(\"\\xA0\");\n        this.element.prepend(button);\n      } else {\n        this.element.append(\"\\xA0\");\n        this.element.appendChild(button);\n      }\n\n      this.cancelButton = button;\n    } // TODO: model spec\n\n  }, {\n    key: \"_createScore\",\n    value: function _createScore() {\n      this.scoreField = document.querySelector(this.opt.targetScore) || this._buildScoreField();\n    }\n  }, {\n    key: \"_createStars\",\n    value: function _createStars() {\n      for (var i = 1; i <= this.opt.number; i++) {\n        var attributes = this._attributesForIndex(i);\n\n        var star = document.createElement(this.opt.starType);\n\n        for (var key in attributes) {\n          star.setAttribute(key, attributes[key]);\n        }\n\n        this.element.appendChild(star);\n\n        if (this.opt.space && i < this.opt.number) {\n          this.element.append(\"\\xA0\");\n        }\n      }\n\n      this.stars = this.element.querySelectorAll(this.opt.starType);\n    } // TODO: model spec\n\n  }, {\n    key: \"_error\",\n    value: function _error(message) {\n      throw new Error(message);\n    }\n  }, {\n    key: \"_executeCallbacks\",\n    value: function _executeCallbacks() {\n      var options = ['number', 'readOnly', 'score', 'scoreName', 'target', 'path'];\n\n      for (var i = 0; i < options.length; i++) {\n        if (typeof this.opt[options[i]] === 'function') {\n          var value = this.opt[options[i]].call(this, this.element);\n\n          if (value) {\n            this.opt[options[i]] = value;\n          } else {\n            delete this.opt[options[i]];\n          }\n        }\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"_fill\",\n    value: function _fill(score) {\n      var hash = 0;\n\n      if (this.opt.iconRangeSame && this.opt.iconRange) {\n        while (hash < this.opt.iconRange.length && this.opt.iconRange[hash].range < score) {\n          hash++;\n        }\n      }\n\n      for (var i = 1; i <= this.stars.length; i++) {\n        var star = this.stars[i - 1];\n\n        var turnOn = this._turnOn(i, score);\n\n        var icon = void 0;\n\n        if (this.opt.iconRange && this.opt.iconRange.length > hash) {\n          var irange = this.opt.iconRange[hash];\n          icon = this._getRangeIcon(irange, turnOn);\n\n          if (i <= irange.range) {\n            this._setIcon(star, icon);\n          }\n\n          if (i === irange.range) {\n            hash++;\n          }\n        } else {\n          icon = this.opt[turnOn ? 'starOn' : 'starOff'];\n\n          this._setIcon(star, icon);\n        }\n      }\n    }\n  }, {\n    key: \"_getDecimal\",\n    value: function _getDecimal(number, fractions) {\n      var decimal = number.toString().split('.')[1];\n      var result = 0;\n\n      if (decimal) {\n        result = parseInt(decimal.slice(0, fractions), 10);\n\n        if (decimal.slice(1, 5) === '9999') {\n          result++;\n        }\n      }\n\n      return result;\n    } // TODO: model spec\n\n  }, {\n    key: \"_getRangeIcon\",\n    value: function _getRangeIcon(irange, turnOn) {\n      return turnOn ? irange.on || this.opt.starOn : irange.off || this.opt.starOff;\n    } // TODO: model spec\n\n  }, {\n    key: \"_getScoreByPosition\",\n    value: function _getScoreByPosition(evt, icon) {\n      var score = parseInt(icon.alt || icon.getAttribute('data-alt'), 10);\n\n      if (this.opt.half) {\n        var size = this._getWidth();\n\n        var percent = parseFloat((evt.pageX - icon.getBoundingClientRect().x) / size);\n        score = score - 1 + percent;\n      }\n\n      return score;\n    } // TODO: model spec\n\n  }, {\n    key: \"_getHint\",\n    value: function _getHint(score, evt) {\n      if (score !== 0 && !score) {\n        return this.opt.noRatedMsg;\n      }\n\n      var integer = Math.ceil(score);\n      var group = this.opt.hints[(integer || 1) - 1];\n      var set = !evt || this.isMove;\n\n      var decimal = this._getDecimal(score, 1);\n\n      var hint = group;\n\n      if (this.opt.precision) {\n        if (set) {\n          decimal = decimal === 0 ? 9 : decimal - 1;\n        }\n\n        hint = group[decimal];\n      } else if (this.opt.halfShow || this.opt.half) {\n        decimal = set && decimal === 0 ? 1 : decimal > 5 ? 1 : 0;\n        hint = group[decimal];\n      }\n\n      return hint === '' ? '' : hint || score;\n    } // TODO: model spec\n\n  }, {\n    key: \"_getWidth\",\n    value: function _getWidth() {\n      // 16 is the default font-size px when icons is not redered yet\n      var width = parseFloat(this.stars[0].offsetWidth) || 16;\n\n      if (!width) {\n        this._error('Could not get the icon width!');\n      }\n\n      return width;\n    }\n  }, {\n    key: \"_isReadOnly\",\n    value: function _isReadOnly() {\n      return {\n        \"true\": true\n      }[this.element.dataset.readOnly] || false;\n    } // TODO: model spec\n\n  }, {\n    key: \"_lock\",\n    value: function _lock() {\n      var hint = this._getHint(this.scoreField.value);\n\n      this.element.style.pointerEvents = 'none';\n      this.element.title = hint;\n      this.scoreField.readOnly = true;\n      this.stars.forEach(function (value) {\n        value.title = hint;\n      });\n\n      if (this.cancelButton) {\n        this.cancelButton.style.display = 'none';\n      }\n\n      this.element.dataset.readOnly = true;\n    }\n  }, {\n    key: \"_nameForIndex\",\n    value: function _nameForIndex(i) {\n      return this.opt.score && this.opt.score >= i ? 'starOn' : 'starOff';\n    } // TODO: model spec\n\n  }, {\n    key: \"_resetTitle\",\n    value: function _resetTitle() {\n      for (var i = 0; i < this.opt.number; i++) {\n        this.stars[i].title = this._getHint(i + 1);\n      }\n    }\n  }, {\n    key: \"_parseOptions\",\n    value: function _parseOptions(dataset) {\n      return Object.keys(dataset).reduce(function (acc, key) {\n        var value = {\n          \"true\": true,\n          \"false\": false\n        }[dataset[key]];\n        value = value !== null && value !== undefined ? value : dataset[key];\n\n        if (!isNaN(value) && Number.isInteger(parseFloat(value))) {\n          value = Number(value);\n        }\n\n        acc[key] = value;\n        return acc;\n      }, {});\n    } // TODO: model spec\n\n  }, {\n    key: \"_roundHalfScore\",\n    value: function _roundHalfScore(score) {\n      var integer = parseInt(score, 10);\n\n      var decimal = this._getDecimal(score, 1);\n\n      if (decimal !== 0) {\n        decimal = decimal > 5 ? 1 : 0.5;\n      }\n\n      return integer + decimal;\n    } // TODO: model spec\n\n  }, {\n    key: \"_roundStars\",\n    value: function _roundStars(score, evt) {\n      var name = this._starName(score, evt);\n\n      if (name) {\n        var icon = this.opt[name];\n        var star = this.stars[Math.ceil(score) - 1];\n        star && this._setIcon(star, icon);\n      } // Full down: [x.00 .. x.25]\n\n    } // TODO: model spec\n\n  }, {\n    key: \"_setIcon\",\n    value: function _setIcon(star, icon) {\n      star[this.opt.starType === 'img' ? 'src' : 'className'] = this.opt.path + icon;\n    }\n  }, {\n    key: \"_setPath\",\n    value: function _setPath() {\n      this.opt.path = this.opt.path || '';\n\n      if (this.opt.path && this.opt.path.slice(-1) !== '/') {\n        this.opt.path += '/';\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"_setTarget\",\n    value: function _setTarget(target, score) {\n      if (score) {\n        score = this.opt.targetFormat.toString().replace('{score}', score);\n      }\n\n      if (target instanceof HTMLInputElement || target instanceof HTMLSelectElement) {\n        target.value = score;\n      } else {\n        target.textContent = score;\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"_setTitle\",\n    value: function _setTitle(score, evt) {\n      if (score) {\n        var integer = parseInt(Math.ceil(score), 10);\n        var star = this.stars.item(integer - 1);\n        star.title = this._getHint(score, evt);\n      }\n    }\n  }, {\n    key: \"_starName\",\n    value: function _starName(score, evt) {\n      var decimal = +(score % 1).toFixed(2);\n\n      if (evt || this.isMove) {\n        return decimal > 0.5 ? 'starOn' : 'starHalf';\n      }\n\n      if (decimal <= this.opt.round.down) {\n        // Down: [x.00 ... x.25]\n        return;\n      }\n\n      if (this.opt.halfShow && decimal < this.opt.round.up) {\n        // Half: [x.26 ... x.75]\n        return 'starHalf';\n      }\n\n      if (decimal < this.opt.round.full) {\n        // Off: [x.26 .. x.6]\n        return 'starOff';\n      }\n\n      return 'starOn'; // Up: [x.26 ...] || [x.6 ...]\n    } // TODO: model spec\n\n  }, {\n    key: \"_target\",\n    value: function _target(score, evt) {\n      if (this.opt.target) {\n        var target = document.querySelector(this.opt.target);\n\n        if (!target) {\n          this._error('Target selector invalid or missing!');\n        }\n\n        var mouseover = evt && evt.type === 'mouseover';\n\n        if (score === undefined) {\n          score = this.opt.targetText;\n        } else if (score === null) {\n          score = mouseover ? this.opt.cancelHint : this.opt.targetText;\n        } else {\n          if (this.opt.targetType === 'hint') {\n            score = this._getHint(score, evt);\n          } else if (this.opt.precision) {\n            score = parseFloat(score).toFixed(1);\n          }\n\n          var mousemove = evt && evt.type === 'mousemove';\n\n          if (!mouseover && !mousemove && !this.opt.targetKeep) {\n            score = this.opt.targetText;\n          }\n        }\n\n        this._setTarget(target, score);\n      }\n    } // TODO: model spec\n\n  }, {\n    key: \"_turnOn\",\n    value: function _turnOn(i, score) {\n      return this.opt.single ? i === score : i <= score;\n    } // TODO: model spec\n\n  }, {\n    key: \"_unlock\",\n    value: function _unlock() {\n      this.element.style.cursor = 'pointer';\n      this.element.style.pointerEvents = 'auto';\n      this.element.removeAttribute('title');\n      this.element.dataset.readOnly = false;\n      this.scoreField.readOnly = false;\n\n      this._resetTitle();\n\n      if (this.cancelButton) {\n        this.cancelButton.style.display = '';\n      }\n    }\n  }]);\n\n  return Raty;\n}();\n\nexport default Raty;","map":{"version":3,"sources":["/home/ec2-user/environment/bookers2-debug/app/javascript/raty.js"],"names":["Raty","element","options","opt","defaultOptions","_parseOptions","dataset","cancelButton","cancelClass","cancelHint","cancelOff","cancelOn","cancelPlace","click","undefined","half","halfShow","hints","iconRange","iconRangeSame","mouseout","mouseover","noRatedMsg","number","numberMax","path","precision","readOnly","round","down","full","up","score","scoreName","single","space","starHalf","starOff","starOn","starType","target","targetFormat","targetKeep","targetScore","targetText","targetType","_isReadOnly","scoreField","removeAttribute","_adjustedScore","_apply","call","_target","integer","parseInt","decimal","_getDecimal","width","_getWidth","steps","star","stars","percent","offsetLeft","evt","Event","pageX","isMove","dispatchEvent","readonly","_lock","_binds","_unlock","arguments","length","setScore","getScore","value","push","_executeCallbacks","_adjustNumber","_adjustHints","_adjustStarName","_setPath","_createStars","_createCancel","_adjustPrecision","_createScore","_setTitle","style","cursor","_between","i","group","Object","prototype","toString","j","hint","last","replaces","replace","_fill","_roundStars","name","_nameForIndex","attributes","alt","src","title","_getHint","min","max","Math","parseFloat","_bindOverCancel","_bindClickCancel","_bindOutCancel","_bindOver","_bindClick","_bindOut","forEach","addEventListener","execute","_roundHalfScore","_resetTitle","icon","_setIcon","action","_getScoreByPosition","className","input","document","createElement","type","appendChild","button","setAttribute","classList","add","prepend","append","querySelector","_buildScoreField","_attributesForIndex","key","querySelectorAll","message","Error","hash","range","turnOn","_turnOn","irange","_getRangeIcon","fractions","split","result","slice","on","off","getAttribute","size","getBoundingClientRect","x","ceil","set","offsetWidth","_error","pointerEvents","display","keys","reduce","acc","isNaN","Number","isInteger","_starName","HTMLInputElement","HTMLSelectElement","textContent","item","toFixed","mousemove","_setTarget"],"mappings":"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","sourcesContent":["/*!\n * Raty - A Star Rating Plugin\n *\n * author: Washington Botelho\n * github: wbotelhos/raty\n * version: 4.2.0\n */\nclass Raty {\n  /**\n   *\n   * @param {object} element\n   * @param {object} options\n   *\n   */\n  constructor(element, options = {}) {\n    this.element = element;\n    this.opt = { ...this.defaultOptions(), ...options, ...this._parseOptions(element.dataset) };\n  }\n\n  defaultOptions() {\n    return {\n      cancelButton: false,\n      cancelClass: 'raty-cancel',\n      cancelHint: 'Cancel this rating!',\n      cancelOff: 'cancel-off.png',\n      cancelOn: 'cancel-on.png',\n      cancelPlace: 'left',\n      click: undefined,\n      half: false,\n      halfShow: true,\n      hints: ['bad', 'poor', 'regular', 'good', 'gorgeous'],\n      iconRange: undefined,\n      iconRangeSame: false,\n      mouseout: undefined,\n      mouseover: undefined,\n      noRatedMsg: 'Not rated yet!',\n      number: 5,\n      numberMax: 20,\n      path: undefined,\n      precision: false,\n      readOnly: false,\n      round: { down: 0.25, full: 0.6, up: 0.76 },\n      score: undefined,\n      scoreName: 'score',\n      single: false,\n      space: true,\n      starHalf: 'star-half.png',\n      starOff: 'star-off.png',\n      starOn: 'star-on.png',\n      starType: 'img',\n      target: undefined,\n      targetFormat: '{score}',\n      targetKeep: false,\n      targetScore: undefined,\n      targetText: '',\n      targetType: 'hint',\n    };\n  }\n\n  cancel(click) {\n    if (!this._isReadOnly()) {\n      this[click ? 'click' : 'score'](null);\n      this.scoreField.removeAttribute('value');\n    }\n  }\n\n  // TODO: model spec\n  click(score) {\n    if (!this._isReadOnly()) {\n      score = this._adjustedScore(score);\n\n      this._apply(score);\n\n      if (this.opt.click) {\n        this.opt.click.call(this, score, this.element);\n      }\n\n      this._target(score);\n    }\n  }\n\n  // TODO: model spec\n  move(score) {\n    var integer = parseInt(score, 10);\n    var decimal = this._getDecimal(score, 1);\n\n    if (integer >= this.opt.number) {\n      integer = this.opt.number - 1;\n      decimal = 10;\n    }\n\n    var width = this._getWidth();\n    var steps = width / 10;\n    var star = this.stars[integer];\n    var percent = star.offsetLeft + steps * decimal;\n    var evt = new Event('mousemove');\n    evt.pageX = percent;\n    this.isMove = true;\n    star.dispatchEvent(evt);\n    this.isMove = false;\n  }\n\n  // TODO: model spec\n  readOnly(readonly) {\n    if (this._isReadOnly() !== readonly) {\n      if (readonly) {\n        this._lock();\n      } else {\n        this._binds();\n        this._unlock();\n      }\n      this.element.dataset.readOnly = readonly;\n    }\n  }\n\n  score() {\n    return arguments.length ? this.setScore(arguments[0]) : this.getScore();\n  }\n\n  setScore(score) {\n    if (!this._isReadOnly()) {\n      score = this._adjustedScore(score);\n\n      this._apply(score);\n      this._target(score);\n    }\n  }\n  // TODO: model spec\n  getScore() {\n    var score = [];\n    var value;\n\n    value = this.scoreField.value;\n\n    score.push(value ? +value : undefined);\n\n    return score.length > 1 ? score : score[0];\n  }\n\n  init() {\n    this._executeCallbacks();\n    this._adjustNumber();\n    this._adjustHints();\n\n    this.opt.score = this._adjustedScore(this.opt.score);\n\n    if (this.opt.starType !== 'img') {\n      this._adjustStarName();\n    }\n\n    this._setPath();\n    this._createStars();\n\n    if (this.opt.cancelButton) {\n      this._createCancel();\n    }\n\n    if (this.opt.precision) {\n      this._adjustPrecision();\n    }\n\n    this._createScore();\n\n    this._apply(this.opt.score);\n    this._setTitle(this.opt.score);\n    this._target(this.opt.score);\n\n    if (this.opt.readOnly) {\n      this._lock();\n    } else {\n      this.element.style.cursor = 'pointer';\n      this._binds();\n    }\n\n    return this;\n  }\n\n  // private\n\n  // TODO: model spec\n  _adjustedScore(score) {\n    if (score || score === 0) {\n      return this._between(score, 0, this.opt.number);\n    }\n  }\n\n  _adjustHints() {\n    // TODO: is it possible `hints` does not exist?\n    if (!this.opt.hints) {\n      this.opt.hints = [];\n    }\n\n    if (!this.opt.halfShow && !this.opt.half) {\n      return;\n    }\n\n    var steps = this.opt.precision ? 10 : 2;\n\n    for (let i = 0; i < this.opt.number; i++) {\n      var group = this.opt.hints[i];\n\n      if (Object.prototype.toString.call(group) !== '[object Array]') {\n        group = [group];\n      }\n\n      this.opt.hints[i] = [];\n\n      for (let j = 0; j < steps; j++) {\n        var hint = group[j];\n        var last = group[group.length - 1];\n\n        if (last === undefined) {\n          last = null;\n        }\n\n        this.opt.hints[i][j] = hint === undefined ? last : hint;\n      }\n    }\n  }\n\n  _adjustNumber() {\n    this.opt.number = this._between(this.opt.number, 1, this.opt.numberMax);\n  }\n\n  _adjustPrecision() {\n    this.opt.half = true;\n  }\n\n  _adjustStarName() {\n    const replaces = ['cancelOff', 'cancelOn', 'starHalf', 'starOff', 'starOn'];\n\n    this.opt.path = '';\n\n    for (let i = 0; i < replaces.length; i++) {\n      this.opt[replaces[i]] = this.opt[replaces[i]].replace('.', '-');\n    }\n  }\n\n  // TODO: model spec\n  _apply(score) {\n    this._fill(score);\n\n    if (score) {\n      if (score > 0) {\n        this.scoreField.value = score;\n      }\n\n      this._roundStars(score);\n    }\n  }\n\n  _attributesForIndex(i) {\n    var name = this._nameForIndex(i);\n    var attributes = { alt: i, src: this.opt.path + this.opt[name] };\n\n    if (this.opt.starType !== 'img') {\n      attributes = { 'data-alt': i, 'class': this.opt[name] };\n    }\n\n    attributes.title = this._getHint(i);\n\n    return attributes;\n  }\n\n  _between(value, min, max) {\n    return Math.min(Math.max(parseFloat(value), min), max);\n  }\n\n  // TODO: model spec\n  _binds() {\n    if (this.cancelButton) {\n      this._bindOverCancel();\n      this._bindClickCancel();\n      this._bindOutCancel();\n    }\n    this._bindOver();\n    this._bindClick();\n    this._bindOut();\n  }\n\n  // TODO: model spec\n  _bindClick() {\n    this.stars.forEach((value) => {\n      value.addEventListener('click', (evt) => {\n        if (this._isReadOnly()) {\n          return;\n        }\n\n        let execute;\n        let score = this.opt.half || this.opt.precision ? this.element.dataset.score : value.alt || value.dataset.alt;\n\n        if (this.opt.half && !this.opt.precision) {\n          score = this._roundHalfScore(score);\n        }\n\n        if (this.opt.click) {\n          execute = this.opt.click.call(this, +score, this.element, evt);\n        }\n\n        if (execute || execute === undefined) {\n          this._apply(+score);\n        }\n      });\n    });\n  }\n\n  // TODO: model spec\n  _bindClickCancel() {\n    this.cancelButton.addEventListener('click', (evt) => {\n      this.scoreField.removeAttribute('value');\n\n      if (this.opt.click) {\n        this.opt.click.call(this, null, this.element, evt);\n      }\n    });\n  }\n\n  // TODO: model spec\n  _bindOut() {\n    this.element.addEventListener('mouseleave', (evt) => {\n      const score = +this.scoreField.value || undefined;\n\n      this._apply(score);\n      this._target(score, evt);\n      this._resetTitle();\n\n      if (this.opt.mouseout) {\n        this.opt.mouseout.call(this, score, this.element, evt);\n      }\n    });\n  }\n\n  // TODO: model spec\n  _bindOutCancel() {\n    this.cancelButton.addEventListener('mouseleave', (evt) => {\n      let icon = this.opt.cancelOff;\n\n      if (this.opt.starType !== 'img') {\n        icon = `${this.opt.cancelClass} ${icon}`;\n      }\n\n      this._setIcon(this.cancelButton, icon);\n\n      if (this.opt.mouseout) {\n        const score = +this.scoreField.value || undefined;\n\n        this.opt.mouseout.call(this, score, this.element, evt);\n      }\n    });\n  }\n\n  // TODO: model spec\n  _bindOver() {\n    const action = this.opt.half ? 'mousemove' : 'mouseover';\n\n    this.stars.forEach((value) => {\n      value.addEventListener(action, (evt) => {\n        const score = this._getScoreByPosition(evt, value);\n\n        this._fill(score);\n\n        if (this.opt.half) {\n          this._roundStars(score, evt);\n          this._setTitle(score, evt);\n\n          this.element.dataset.score = score;\n        }\n\n        this._target(score, evt);\n\n        if (this.opt.mouseover) {\n          this.opt.mouseover.call(this, score, this.element, evt);\n        }\n      });\n    });\n  }\n\n  // TODO: model spec\n  _bindOverCancel() {\n    this.cancelButton.addEventListener('mouseover', (evt) => {\n      if (this._isReadOnly()) {\n        return;\n      }\n\n      const starOff = this.opt.path + this.opt.starOff;\n\n      let icon = this.opt.cancelOn;\n\n      if (this.opt.starType === 'img') {\n        this.stars.forEach((value) => {\n          value.src = starOff;\n        });\n      } else {\n        icon = this.opt.cancelClass + ' ' + icon;\n\n        this.stars.forEach((value) => {\n          value.className = starOff;\n        });\n      }\n\n      this._setIcon(this.cancelButton, icon);\n      this._target(null, evt);\n\n      if (this.opt.mouseover) {\n        this.opt.mouseover.call(this, null, this.element, evt);\n      }\n    });\n  }\n\n  // TODO: model spec\n  _buildScoreField() {\n    const input = document.createElement('input');\n\n    input.name = this.opt.scoreName;\n    input.type = 'hidden';\n\n    this.element.appendChild(input);\n\n    return input;\n  }\n\n  // TODO: model spec\n  _createCancel() {\n    const button = document.createElement(this.opt.starType);\n    const icon = this.opt.path + this.opt.cancelOff;\n\n    button.setAttribute('class', this.opt.cancelClass);\n    button.setAttribute('title', this.opt.cancelHint);\n\n    if (this.opt.starType === 'img') {\n      button.setAttribute('alt', 'x');\n      button.setAttribute('src', icon);\n    } else {\n      button.classList.add(icon);\n\n      // TODO: use the dataset\n      button.setAttribute('data-alt', 'x');\n    }\n\n    if (this.opt.cancelPlace === 'left') {\n      this.element.prepend('\\u00A0');\n      this.element.prepend(button);\n    } else {\n      this.element.append('\\u00A0');\n      this.element.appendChild(button);\n    }\n\n    this.cancelButton = button;\n  }\n\n  // TODO: model spec\n  _createScore() {\n    this.scoreField = document.querySelector(this.opt.targetScore) || this._buildScoreField();\n  }\n\n  _createStars() {\n    for (let i = 1; i <= this.opt.number; i++) {\n      const attributes = this._attributesForIndex(i);\n\n      let star = document.createElement(this.opt.starType);\n\n      for (const key in attributes) {\n        star.setAttribute(key, attributes[key]);\n      }\n\n      this.element.appendChild(star);\n\n      if (this.opt.space && i < this.opt.number) {\n        this.element.append('\\u00A0');\n      }\n    }\n\n    this.stars = this.element.querySelectorAll(this.opt.starType);\n  }\n\n  // TODO: model spec\n  _error(message) {\n    throw new Error(message);\n  }\n\n  _executeCallbacks() {\n    const options = ['number', 'readOnly', 'score', 'scoreName', 'target', 'path'];\n\n    for (let i = 0; i < options.length; i++) {\n      if (typeof this.opt[options[i]] === 'function') {\n        const value = this.opt[options[i]].call(this, this.element);\n\n        if (value) {\n          this.opt[options[i]] = value;\n        } else {\n          delete this.opt[options[i]];\n        }\n      }\n    }\n  }\n\n  // TODO: model spec\n  _fill(score) {\n    let hash = 0;\n\n    if (this.opt.iconRangeSame && this.opt.iconRange) {\n      while (hash < this.opt.iconRange.length && this.opt.iconRange[hash].range < score) {\n        hash++;\n      }\n    }\n\n    for (let i = 1; i <= this.stars.length; i++) {\n      const star = this.stars[i - 1];\n      const turnOn = this._turnOn(i, score);\n\n      let icon;\n\n      if (this.opt.iconRange && this.opt.iconRange.length > hash) {\n        const irange = this.opt.iconRange[hash];\n\n        icon = this._getRangeIcon(irange, turnOn);\n\n        if (i <= irange.range) {\n          this._setIcon(star, icon);\n        }\n\n        if (i === irange.range) {\n          hash++;\n        }\n      } else {\n        icon = this.opt[turnOn ? 'starOn' : 'starOff'];\n\n        this._setIcon(star, icon);\n      }\n    }\n  }\n\n  _getDecimal(number, fractions) {\n    const decimal = number.toString().split('.')[1];\n\n    let result = 0;\n\n    if (decimal) {\n      result = parseInt(decimal.slice(0, fractions), 10);\n\n      if (decimal.slice(1, 5) === '9999') {\n        result++;\n      }\n    }\n\n    return result;\n  }\n\n  // TODO: model spec\n  _getRangeIcon(irange, turnOn) {\n    return turnOn ? irange.on || this.opt.starOn : irange.off || this.opt.starOff;\n  }\n\n  // TODO: model spec\n  _getScoreByPosition(evt, icon) {\n    let score = parseInt(icon.alt || icon.getAttribute('data-alt'), 10);\n\n    if (this.opt.half) {\n      const size = this._getWidth();\n      const percent = parseFloat((evt.pageX - icon.getBoundingClientRect().x) / size);\n\n      score = score - 1 + percent;\n    }\n\n    return score;\n  }\n\n  // TODO: model spec\n  _getHint(score, evt) {\n    if (score !== 0 && !score) {\n      return this.opt.noRatedMsg;\n    }\n\n    const integer = Math.ceil(score);\n    const group = this.opt.hints[(integer || 1) - 1];\n    const set = !evt || this.isMove;\n\n    let decimal = this._getDecimal(score, 1);\n    let hint = group;\n\n    if (this.opt.precision) {\n      if (set) {\n        decimal = decimal === 0 ? 9 : decimal - 1;\n      }\n\n      hint = group[decimal];\n    } else if (this.opt.halfShow || this.opt.half) {\n      decimal = set && decimal === 0 ? 1 : decimal > 5 ? 1 : 0;\n\n      hint = group[decimal];\n    }\n\n    return hint === '' ? '' : hint || score;\n  }\n\n  // TODO: model spec\n  _getWidth() {\n    // 16 is the default font-size px when icons is not redered yet\n    const width = parseFloat(this.stars[0].offsetWidth) || 16;\n\n    if (!width) {\n      this._error('Could not get the icon width!');\n    }\n\n    return width;\n  }\n\n  _isReadOnly() {\n    return { true: true }[this.element.dataset.readOnly] || false;\n  }\n\n  // TODO: model spec\n  _lock() {\n    const hint = this._getHint(this.scoreField.value);\n\n    this.element.style.pointerEvents = 'none';\n    this.element.title = hint;\n\n    this.scoreField.readOnly = true;\n\n    this.stars.forEach((value) => {\n      value.title = hint;\n    });\n\n    if (this.cancelButton) {\n      this.cancelButton.style.display = 'none';\n    }\n\n    this.element.dataset.readOnly = true;\n  }\n\n  _nameForIndex(i) {\n    return this.opt.score && this.opt.score >= i ? 'starOn' : 'starOff';\n  }\n\n  // TODO: model spec\n  _resetTitle() {\n    for (let i = 0; i < this.opt.number; i++) {\n      this.stars[i].title = this._getHint(i + 1);\n    }\n  }\n\n  _parseOptions(dataset) {\n    return Object.keys(dataset).reduce((acc, key) => {\n      let value = { true: true, false: false }[dataset[key]];\n\n      value = value !== null && value !== undefined ? value : dataset[key];\n\n      if (!isNaN(value) && Number.isInteger(parseFloat(value))) {\n        value = Number(value);\n      }\n\n      acc[key] = value;\n\n      return acc;\n    }, {});\n  }\n\n  // TODO: model spec\n  _roundHalfScore(score) {\n    const integer = parseInt(score, 10);\n\n    let decimal = this._getDecimal(score, 1);\n\n    if (decimal !== 0) {\n      decimal = decimal > 5 ? 1 : 0.5;\n    }\n\n    return integer + decimal;\n  }\n\n  // TODO: model spec\n  _roundStars(score, evt) {\n    const name = this._starName(score, evt);\n\n    if (name) {\n      const icon = this.opt[name];\n      const star = this.stars[Math.ceil(score) - 1];\n\n      star && this._setIcon(star, icon);\n    } // Full down: [x.00 .. x.25]\n  }\n\n  // TODO: model spec\n  _setIcon(star, icon) {\n    star[this.opt.starType === 'img' ? 'src' : 'className'] = this.opt.path + icon;\n  }\n\n  _setPath() {\n    this.opt.path = this.opt.path || '';\n\n    if (this.opt.path && this.opt.path.slice(-1) !== '/') {\n      this.opt.path += '/';\n    }\n  }\n\n  // TODO: model spec\n  _setTarget(target, score) {\n    if (score) {\n      score = this.opt.targetFormat.toString().replace('{score}', score);\n    }\n    if (target instanceof HTMLInputElement || target instanceof HTMLSelectElement) {\n      target.value = score;\n    } else {\n      target.textContent = score;\n    }\n  }\n\n  // TODO: model spec\n  _setTitle(score, evt) {\n    if (score) {\n      const integer = parseInt(Math.ceil(score), 10);\n      const star = this.stars.item(integer - 1);\n\n      star.title = this._getHint(score, evt);\n    }\n  }\n\n  _starName(score, evt) {\n    const decimal = +(score % 1).toFixed(2);\n\n    if (evt || this.isMove) {\n      return decimal > 0.5 ? 'starOn' : 'starHalf';\n    }\n\n    if (decimal <= this.opt.round.down) {\n      // Down: [x.00 ... x.25]\n      return;\n    }\n\n    if (this.opt.halfShow && decimal < this.opt.round.up) {\n      // Half: [x.26 ... x.75]\n      return 'starHalf';\n    }\n\n    if (decimal < this.opt.round.full) {\n      // Off: [x.26 .. x.6]\n      return 'starOff';\n    }\n\n    return 'starOn'; // Up: [x.26 ...] || [x.6 ...]\n  }\n\n  // TODO: model spec\n  _target(score, evt) {\n    if (this.opt.target) {\n      const target = document.querySelector(this.opt.target);\n\n      if (!target) {\n        this._error('Target selector invalid or missing!');\n      }\n\n      const mouseover = evt && evt.type === 'mouseover';\n\n      if (score === undefined) {\n        score = this.opt.targetText;\n      } else if (score === null) {\n        score = mouseover ? this.opt.cancelHint : this.opt.targetText;\n      } else {\n        if (this.opt.targetType === 'hint') {\n          score = this._getHint(score, evt);\n        } else if (this.opt.precision) {\n          score = parseFloat(score).toFixed(1);\n        }\n\n        const mousemove = evt && evt.type === 'mousemove';\n\n        if (!mouseover && !mousemove && !this.opt.targetKeep) {\n          score = this.opt.targetText;\n        }\n      }\n\n      this._setTarget(target, score);\n    }\n  }\n\n  // TODO: model spec\n  _turnOn(i, score) {\n    return this.opt.single ? i === score : i <= score;\n  }\n\n  // TODO: model spec\n  _unlock() {\n    this.element.style.cursor = 'pointer';\n    this.element.style.pointerEvents = 'auto';\n\n    this.element.removeAttribute('title');\n\n    this.element.dataset.readOnly = false;\n\n    this.scoreField.readOnly = false;\n\n    this._resetTitle();\n\n    if (this.cancelButton) {\n      this.cancelButton.style.display = '';\n    }\n  }\n}\n\nexport default Raty;\n"]},"metadata":{},"sourceType":"module"}